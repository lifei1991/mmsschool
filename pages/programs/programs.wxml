<!--pages/programs/programs.wxml-->
<view class="programs">
  <view class="no-content" wx:if="{{newsList.length == 0 && showNoList}}">
    <image class="no-list-icon" src="../../image/项目列表/无搜索结果@2x.png" mode="aspectFit"></image>
    <view class="no-list-text">
      暂无搜索结果
    </view>
    <view class="no-list-text">
      棕榈小助手在努力补全信息啦
    </view>
  </view>

  <view class="has-content">
    <view class="filter">
      <view class='com-selectBox'>
        <view class='com-sContent' bindtap='selectToggle'>
          <view class='com-sTxt'>{{nowText}}</view>
          <image src='../../image/项目列表/下拉选框@2x.png' class='com-sImg' animation="{{animationData}}"></image>
        </view>
        <view class='com-sList' wx:if="{{selectShow}}">
          <view wx:for="{{propArray}}" data-index="{{index}}" wx:key='' class='com-sItem' bindtap='setText'>{{item.text}}</view>
        </view>
      </view>

      <view class='com-selectBox'>
        <!-- <view class='com-sContent' bindtap='selectToggle'>
          <view class='com-sTxt'>{{nowText}}</view>
          <image src='../../image/项目列表/下拉选框@2x.png' class='com-sImg' animation="{{animationData}}"></image>
        </view>
        <view class='com-sList' wx:if="{{selectShow}}">
          <view wx:for="{{propArray}}" data-index="{{index}}" wx:key='' class='com-sItem' bindtap='setText'>{{item.text}}</view>
        </view> -->
      </view>

      <view class='com-selectBox'>
        <view class="search-view">
          <image class="search-icon" src="../../image/项目列表/搜索@2x.png" mode="aspectFit"></image>
        </view>
      </view>
    </view>

    <view class="mask" hidden="{{!selectShow}}"></view>
    <scroll-view scroll-x="true" class="tab-h" scroll-left="{{scrollLeft}}">
      <view class="tab-item {{currentTab==0?'active':''}}" data-current="0" bindtap="swichNav">全部</view>
      <view class="tab-item {{currentTab==1?'active':''}}" data-current="1" bindtap="swichNav">Top 1-20</view>
      <view class="tab-item {{currentTab==2?'active':''}}" data-current="2" bindtap="swichNav">Top 21-40</view>
      <view class="tab-item {{currentTab==3?'active':''}}" data-current="3" bindtap="swichNav">Top 41-60</view>
      <view class="tab-item {{currentTab==4?'active':''}}" data-current="4" bindtap="swichNav">Top 61-80</view>
      <view class="tab-item {{currentTab==5?'active':''}}" data-current="5" bindtap="swichNav">Top 81-100</view>
    </scroll-view>
    <swiper class="tab-content" current="{{currentTab}}" duration="300" bindchange="switchTab" style="height:{{winHeight}}rpx">
      <swiper-item wx:for-index="idx" wx:for="{{[0,1,2,3,4,5]}}">
        <scroll-view scroll-y="true" class="scoll-h" bindscrolltoupper="pullRefresh" bindscrolltolower="bottomRefresh">
          <block wx:for="{{newsList}}" wx:key="*this">
            <view class="item-ans" bindtap="selectSchool" id='{{item.id}}'>
              <view class="avatar">
                <!-- <image class="img" src="../../image/logo.png"></image> -->
                <text>{{currentTab == 0 ? index + 1 : (currentTab - 1) * 20 + index + 1}}</text>
              </view>
              <view class="expertInfo">
                <view class="name">{{item.chineseName}}</view>
                <view class="tag">{{item.name}}</view>
                <view class="place">
                  <image mode="aspectFit" class="placeImg" src="../../image/项目列表/定位@2x.png"></image>
                  <span class="place-text">{{item.state}}</span>
                  <image mode="aspectFit" class="hotCountImg" src="../../image/项目列表/热门项目@2x.png"></image>
                  <span class="hotCount">{{item.hotCount}} 个热门项目</span>
                </view>
              </view>
              <image class="schoolLogo" mode="aspectFit" src="{{item.schoolLogo.length == 0 ? '../../image/项目列表/schools/Oval.png' : item.schoolLogo[0]}}"></image>
            </view>
          </block>
        </scroll-view>
      </swiper-item>
    </swiper>

    <mp-tabbar current="1" style="position:fixed;bottom:0;width:100%;left:0;right:0;" list="{{list}}" bindchange="tabChange"></mp-tabbar>
  </view>
</view>